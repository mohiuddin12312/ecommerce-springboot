<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{fragments::header}"></head>
<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <!--Sidebar-->
    <ul th:replace="~{fragments::sidebar}"></ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column" >

        <!-- Main Content -->
        <div id="content" style=" padding-left: 10px;">

            <!-- Topbar -->
            <nav th:replace="~{fragments::top-navbar}"></nav>
            <!-- End of Topbar -->

            <!--message server-->
            <div th:if="${success}" class="text-center alert alert-success">
                <p th:text="${success}">
                </p>
            </div>
            <div th:if="${error}" class="text-center alert alert-danger">
                <p th:text="${error}"></p>
            </div>

            <div>
                <form   th:action="@{/search-result/0}" method="get"
                        class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                    <div class="input-group" style="border: inset;">
                        <input name="keyword" placeholder="Search products" id="search"
                               type="text" class="form-control bg-light border-0 small" aria-label="Search" aria-describedby="basic-addon2">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit">
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Begin Page Content -->
            <a  class="btn btn-primary" style="margin: 20px;"
               th:href = "@{/add-product}" >Add new Customer Account </a>
            <p th:if="${size == 0}">No Account</p>


            <table class="table table-striped" th:if="${size > 0}">
                <thead>
                <tr>
                    <th scope="col">Username</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Phone Number</th>
                    <th scope="col">Address</th>
                    <th scope="col">Action</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="customer : ${customers}">
                        <th scope="row" th:text="${customer.username}"></th>
                        <td th:text="${customer.firstName}"></td>
                        <td th:text="${customer.lastName}"></td>
                        <td th:text="${customer.phoneNumber}"></td>
                        <td th:text="${customer.address + ', ' + customer.city}"></td>
                        <td>
                            <a th:href="@{/enable-product/{id}(id = ${product.id})}"
                               class="btn btn-warning"></a>
<!--                            <a th:href="@{/delete-product/{id}(id = ${product.id})}"-->
<!--                               class=" btn btn-danger">Delete</a>-->
                        </td>

                    </tr>

                </tbody>
            </table>

            <!--Pagination  -->
<!--            <nav aria-label="...">-->
<!--                <ul class="pagination" >-->
<!--                    <li th:if= "${currentPage != 0}" class="page-item ">-->
<!--                        <a th:href = "@{'/products/' + ${currentPage - 1}}" class="page-link">Previous</a>-->
<!--                    </li >-->
<!--                    <li th:each="i : ${#numbers.sequence(1, totalPages)}" th:classappend="${currentPage == i - 1 ? 'active' : ''}" class="page-item">-->
<!--                        <a th:href="@{'/products/' + ${i - 1}}" class="page-link" href="#">-->
<!--                            <span th:text="${i}"></span>-->
<!--                        </a>-->
<!--                    </li>-->

<!--                    <li th:if = "${currentPage + 1 != totalPages}" class="page-item">-->
<!--                        <a th:href = "@{'/products/' + ${currentPage + 1}}" class="page-link" href="#">Next</a>-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </nav>-->
            <!--Pagination  -->




            <!-- End of Main Content -->

            <!-- Footer -->
            <footer th:replace="~{fragments::footer}"></footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a th:replace="~{fragments::scroll}"></a>

<div th:replace="~{fragments::script}"></div>

<script th:src="@{/js/categories.js}"></script>
</body>

</html>